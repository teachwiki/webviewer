/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see legal.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[12],{351:function(ia,da,h){h.r(da);var ca=h(4),ba=h(0);h.n(ba);var ha=h(1),ea=h(117);ia=h(34);var z=h(73),x=h(146),r=h(49),f=h(198);h=h(297);var aa=window,n=function(){function e(e,h,n){var w=-1===e.indexOf("?")?"?":"&";switch(h){case r.a.NEVER_CACHE:this.url=e+w+"_="+Object(ba.uniqueId)();break;default:this.url=e}this.yf=n;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=f.a.NOT_STARTED}e.prototype.start=function(h,n){var r=this,w=this,x=this.request,y;w.Qs=0;h&&Object.keys(h).forEach(function(e){r.request.setRequestHeader(e,h[e])});n&&(this.request.withCredentials=n);this.fy=setInterval(function(){var h=0===window.document.URL.indexOf("file:///");h=200===x.status||h&&0===x.status;
if(x.readyState!==f.b.DONE||h){try{x.responseText}catch(oa){return}w.Qs<x.responseText.length&&(y=w.K0())&&w.trigger(e.Events.DATA,[y]);0===x.readyState&&(clearInterval(w.fy),w.trigger(e.Events.DONE))}else clearInterval(w.fy),w.trigger(e.Events.DONE,["Error received return status "+x.status])},1E3);this.request.send(null);this.status=f.a.STARTED};e.prototype.K0=function(){var f=this.request,h=f.responseText;if(0!==h.length)if(this.Qs===h.length)clearInterval(this.fy),this.trigger(e.Events.DONE);else return h=
Math.min(this.Qs+3E6,h.length),f=aa.OK(f,this.Qs,!0,h),this.Qs=h,f};e.prototype.abort=function(){clearInterval(this.fy);var h=this;this.request.onreadystatechange=function(){Object(ha.h)("StreamingRequest aborted");h.status=f.a.ABORTED;return h.trigger(e.Events.ABORTED)};this.request.abort()};e.prototype.finish=function(){var h=this;this.request.onreadystatechange=function(){h.status=f.a.SUCCESS;return h.trigger(e.Events.DONE)};this.request.abort()};e.Events={DONE:"done",DATA:"data",ABORTED:"aborted"};
return e}();Object(ia.b)(n);var e;(function(e){e[e.LOCAL_HEADER=0]="LOCAL_HEADER";e[e.FILE=1]="FILE";e[e.CENTRAL_DIR=2]="CENTRAL_DIR"})(e||(e={}));var w=function(f){function h(){var h=f.call(this)||this;h.buffer="";h.state=e.LOCAL_HEADER;h.LE=4;h.Zj=null;h.Jp=ea.c;h.hl={};return h}Object(ca.c)(h,f);h.prototype.G0=function(f){var n;for(f=this.buffer+f;f.length>=this.Jp;)switch(this.state){case e.LOCAL_HEADER:this.Zj=n=this.N0(f.slice(0,this.Jp));if(n.gq!==ea.g)throw Error("Wrong signature in local header: "+
n.gq);f=f.slice(this.Jp);this.state=e.FILE;this.Jp=n.KA+n.tn+n.Ur+this.LE;this.trigger(h.Events.HEADER,[n]);break;case e.FILE:this.Zj.name=f.slice(0,this.Zj.tn);this.hl[this.Zj.name]=this.Zj;n=this.Jp-this.LE;var r=f.slice(this.Zj.tn+this.Zj.Ur,n);this.trigger(h.Events.FILE,[this.Zj.name,r,this.Zj.$A]);f=f.slice(n);if(f.slice(0,this.LE)===ea.h)this.state=e.LOCAL_HEADER,this.Jp=ea.c;else return this.state=e.CENTRAL_DIR,!0}this.buffer=f;return!1};h.Events={HEADER:"header",FILE:"file"};return h}(x.a);
Object(ia.b)(w);ia=function(e){function f(f,h,r,x,y){r=e.call(this,f,r,x)||this;r.url=f;r.stream=new n(f,h);r.zd=new w;r.RM=window.createPromiseCapability();r.gN={};r.yf=y;return r}Object(ca.c)(f,e);f.prototype.Dt=function(e){var f=this;this.request([this.Th,this.$i,this.Sh]);this.stream.on(n.Events.DATA,function(h){try{if(f.zd.G0(h))return f.stream.finish()}catch(ja){throw f.stream.abort(),f.Rr(ja),e(ja),ja;}});this.stream.on(n.Events.DONE,function(h){f.p0=!0;f.RM.resolve();h&&(f.Rr(h),e(h))});this.zd.on(w.Events.HEADER,
Object(ba.bind)(this.fN,this));this.zd.on(w.Events.FILE,Object(ba.bind)(this.Q0,this));return this.stream.start(this.yf,this.withCredentials)};f.prototype.LK=function(e){var f=this;this.RM.promise.then(function(){e(Object.keys(f.zd.hl))})};f.prototype.Hl=function(){return!0};f.prototype.request=function(e){var f=this;this.p0&&e.forEach(function(e){f.gN[e]||f.h4(e)})};f.prototype.fN=function(){};f.prototype.abort=function(){this.stream&&this.stream.abort()};f.prototype.h4=function(e){this.trigger(z.a.Events.PART_READY,
[{Wa:e,error:"Requested part not found",gh:!1,wf:!1}])};f.prototype.Q0=function(e,f,h){this.gN[e]=!0;this.trigger(z.a.Events.PART_READY,[{Wa:e,data:f,gh:!1,wf:!1,error:null,Nc:h}])};return f}(z.a);Object(h.a)(ia);Object(h.b)(ia);da["default"]=ia}}]);}).call(this || window)
