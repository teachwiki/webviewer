/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see legal.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{343:function(ia,da,h){h.r(da);h.d(da,"ByteRangeRequest",function(){return ka});var ca=h(4),ba=h(0);h.n(ba);var ha=h(1),ea=h(117);ia=h(73);var z=h(146),x=h(64),r=h(49),f=h(198),aa=h(133);h=h(297);var n=[],e=[],w=window,y=function(){return function(){this.kk=1}}(),fa;(function(e){e[e.UNSENT=0]="UNSENT";e[e.DONE=4]="DONE"})(fa||(fa={}));var ka=function(){function h(e,h,n,r){var y=this;this.url=e;this.range=h;this.yf=n;this.withCredentials=
r;this.iR=fa;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);w.Uint8Array&&(this.request.responseType="arraybuffer");r&&(this.request.withCredentials=r);ma.DISABLE_RANGE_HEADER||(Object(ba.isUndefined)(h.stop)?this.request.setRequestHeader("Range","bytes="+h.start):this.request.setRequestHeader("Range",["bytes=",h.start,"-",h.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");n&&Object.keys(n).forEach(function(e){y.request.setRequestHeader(e,
n[e])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=f.a.NOT_STARTED}h.prototype.start=function(e){var h=this,n=this.request;n.onreadystatechange=function(){if(h.aborted)return h.status=f.a.ABORTED,e({code:f.a.ABORTED});if(this.readyState===h.iR.DONE){h.Vw();var r=0===window.document.URL.indexOf("file:///");200===n.status||206===n.status||r&&0===n.status?(r=w.OK(this),
h.mq(r,e)):(h.status=f.a.ERROR,e({code:h.status,status:this.status}))}};this.request.send(null);this.status=f.a.STARTED};h.prototype.mq=function(e,h){this.status=f.a.SUCCESS;if(h)return h(!1,e)};h.prototype.abort=function(){this.Vw();this.aborted=!0;this.request.abort()};h.prototype.Vw=function(){var f=Object(aa.b)(this.url,this.range,e);-1!==f&&e.splice(f,1);if(0<n.length){f=n.shift();var r=new h(f.url,f.range,this.yf,this.withCredentials);f.request=r;e.push(f);r.start(Object(aa.c)(f))}};h.prototype.extend=
function(e){var f=Object.assign({},this,e.prototype);f.constructor=e;return f};return h}(),ma=function(f){function h(e,h,n,r,w){n=f.call(this,e,n,r)||this;n.mk={};n.Nv=h;n.url=e;n.DISABLE_RANGE_HEADER=!1;n.xt=ka;n.GF=3;n.yf=w||{};return n}Object(ca.c)(h,f);h.prototype.Cr=function(e,f,h){var n=-1===e.indexOf("?")?"?":"&";switch(h){case !1:case r.a.NEVER_CACHE:e=e+n+"_="+Object(ba.uniqueId)();break;case !0:case r.a.CACHE:e=e+n+"_="+f.start+","+(Object(ba.isUndefined)(f.stop)?"":f.stop)}return e};h.prototype.eJ=
function(e,f,h,n){void 0===h&&(h={});return new this.xt(e,f,h,n)};h.prototype.vW=function(f,h,r,w,y){for(var aa=0;aa<n.length;aa++)if(Object(ba.isEqual)(n[aa].range,h)&&Object(ba.isEqual)(n[aa].url,f))return n[aa].Sf.push(w),n[aa].Nx++,null;for(aa=0;aa<e.length;aa++)if(Object(ba.isEqual)(e[aa].range,h)&&Object(ba.isEqual)(e[aa].url,f))return e[aa].Sf.push(w),e[aa].Nx++,null;r={url:f,range:h,Nv:r,Sf:[w],Nx:1};if(0===n.length&&e.length<this.GF)return e.push(r),r.request=this.eJ(f,h,y,this.withCredentials),
r;n.push(r);return null};h.prototype.wl=function(f,h,r){var w=this.Cr(f,h,this.Nv);(f=this.vW(w,h,this.Nv,r,this.yf))&&f.request.start(Object(aa.c)(f));return function(){var f=Object(aa.b)(w,h,e);if(-1!==f){var r=--e[f].Nx;0===r&&e[f].request&&e[f].request.abort()}else f=Object(aa.b)(w,h,n),-1!==f&&(r=--n[f].Nx,0===r&&n.splice(f,1))}};h.prototype.uK=function(){return{start:-ea.a}};h.prototype.YY=function(){var e=-(ea.a+ea.e);return{start:e-ea.d,end:e}};h.prototype.Fp=function(e){var f=this;this.Rv=
!0;var h=ea.a;this.wl(this.url,this.uK(),function(n,r,w){function y(){var h=f.zd.rK();f.wl(f.url,h,function(n,r){if(n)return Object(ha.h)("Error loading central directory: "+n),e(n);r=Object(x.a)(r);if(r.length!==h.stop-h.start)return e("Invalid XOD file: Zip central directory data is wrong size! Should be "+(h.stop-h.start)+" but is "+r.length);f.zd.bN(r);f.UA=!0;f.Rv=!1;return e(!1)})}if(n)return Object(ha.h)("Error loading end header: "+n),e(n,r,w);r=Object(x.a)(r);if(r.length!==h)return e("Invalid XOD file: Zip end header data is wrong size!");
try{f.zd=new z.a(r)}catch(va){return e(va)}f.zd.n_?f.wl(f.url,f.YY(),function(h,n){if(h)return Object(ha.h)("Error loading zip64 header: "+h),e(h);n=Object(x.a)(n);f.zd.B_(n);y()}):y()})};h.prototype.LK=function(e){e(Object.keys(this.zd.hl))};h.prototype.JD=function(e,f){var h=this;if(this.zd.XI(e)){var n=this.zd.Pw(e);if(n in this.mk){var r=this.Ng[e];r.Po=this.mk[n];r.Po.kk++;r.cancel=r.Po.cancel}else{var w=this.zd.BX(e),aa=this.wl(this.url,w,function(r,y){r?(Object(ha.h)('Error loading part "'+
e+'": '+r),h.wl(h.url,w,function(r,y){if(r)return f(r,e);h.cN(y,w,n,e,f)})):h.cN(y,w,n,e,f)}),x=this.Ng[e];x&&(x.TO=!0,x.cancel=function(){x.Po.kk--;0===x.Po.kk&&(aa(),delete h.mk[n])},this.mk[n]=new y(n),x.Po=this.mk[n],x.Po.cancel=x.cancel)}}else delete this.Ng[e],f(Error('File not found: "'+e+'"'),e)};h.prototype.cN=function(e,f,h,n,r){if(e.length!==f.stop-f.start)r(Error("Part data is wrong size!"),n);else{do{if(!this.mk[h])return;n=this.mk[h].kk;for(var w=f.aN.length,y=0;y<w;++y){var aa=f.aN[y];
r(!1,aa.An,e["string"===typeof e?"substring":"subarray"](aa.start,aa.stop),this.zd.IL(aa.An));aa.An in this.Ng&&delete this.Ng[aa.An]}}while(n!==this.mk[h].kk);delete this.mk[h]}};h.DISABLE_RANGE_HEADER=!1;h.GF=3;return h}(ia.a);(function(e){function f(f,h,n){var r=e.call(this)||this,w;for(w in f)r[w]=f[w];r.l7=f;r.startOffset=h;r.endOffset=n;r.eJ=function(e,h,n,w){Object(ba.isUndefined)(h.stop)?(h.start+=r.endOffset,h.stop=r.endOffset):(h.start+=r.startOffset,h.stop+=r.startOffset);e=r.Cr(r.url,
h,r.Nv);return new f.xt(e,h,n,w)};return r}Object(ca.c)(f,e);return f})(ma);Object(h.a)(ma);Object(h.b)(ma);da["default"]=ma}}]);}).call(this || window)
